<launch>

  <arg name="stereo" default="stereo_forward"/>
  <arg name="image" default="image_rect_color"/>
  <arg name="reference_frame_id" default="/stereo_forward_optical"/>
  <arg name="child_frame_id" default="/target"/>
    <arg name="listen_services" default="true"/>

  <node pkg="color_3D_tracker" type="tracker_node" name="tracker_node" output="screen">
    <param name="stereo_frame_id" value="$(arg reference_frame_id)"/>
    <param name="target_frame_id" value="$(arg child_frame_id)"/>    
    <param name="mean_filter_size" value="5"/>
    <param name="binary_threshold" value="16"/>
    <param name="closing_element_size" value="3"/>
    <param name="opening_element_size" value="13"/>
    <param name="min_value_threshold" value="43"/>
    <param name="min_blob_size" value="35"/>
    <param name="max_blob_size" value="1700"/>
    <param name="show_debug" value="true"/>
    <param name="warning_on" value="true"/>
    <param name="listen_services" value="$(arg listen_services)"/>

    <remap from="stereo" to="$(arg stereo)"/>
    <remap from="image" to="$(arg image)"/>
  </node>

  <node pkg="tf_tools" type="tf_filter" name="tf_filter_valve_tracker" output="screen">
    <param name="reference_frame_id" value="$(arg reference_frame_id)"/>
    <param name="child_frame_id" value="$(arg child_frame_id)"/>
    <param name="frequency" value="10"/>
    <param name="ramp_wwf" value="0.5"/>
    <param name="num_samples_wwf" value="10"/>
  </node>
  
</launch>
